sudo: required
language: cpp
git:
    depth: 1

addons:
    apt:
        sources:
            - ubuntu-toolchain-r-test

        packages:
            - g++-5
            - libfreetype6-dev
            - libjpeg-dev
            - libx11-dev
            - libxrandr-dev
            - libxcb1-dev
            - libx11-xcb-dev
            - libxcb-randr0-dev
            - libxcb-image0-dev
            - libgl1-mesa-dev
            - libflac-dev
            - libogg-dev
            - libvorbis-dev
            - libvorbisenc2
            - libvorbisfile3
            - libopenal-dev
            - libpthread-stubs0-dev
            - libglew-dev
            - libgpgme11-dev
            - libsndfile1-dev
            - libudev-dev

before_install:
    - pip install --user codecov

before_script:
    - ./install_deps.sh

after_success:
    - codecov
